"0","df_emp<-read.csv(""C:/Users/Diaraye/Documents/Raul/GitHub/BanksHT/BanksEmployees_withoutDuplicates.csv"")"
"0",""
"0","# remove spaces before and after the name of each bank"
"0","df_emp$Banks=stringr::str_trim(df_emp$Banks,side='both')"
"0","df_emp<-df_emp%>%filter(Banks!=""PROMOBK *"") # to remove data"
"0","# related to that bank which are redundant compared to the name without asterisk."
"0",""
"0","# remove duplicated rows"
"0","df_emp<-df_emp[!duplicated(df_emp),]"
"0",""
"0","df_emp$Banks<-gsub(""UNIBK"",""UNIBNK"",df_emp$Banks) # to harmonized the name of this bank to be the same in all data frame."
"0",""
"0","#################################"
"0","femployees<-function(){ # function to structured a new data frame of numbers"
"0","                  # of employees to be merged with the other data frames"
"0","  banks_emp=unique(df_emp$Banks)"
"0","  bks=NULL"
"0","  do=data.frame()"
"0","  #colnames(do)=c(""Date"",""Indicator"")"
"0","  for (i in 1:length(banks_emp)) {"
"0","    bks[[i]]=df_emp%>%filter(Banks==banks_emp[i])%>%select(Date,Indicator)"
"0","    colnames(bks[[i]])=c(""Date"",banks_emp[i])"
"0","  }"
"0","  dat=bks[1]"
"0","  for(i in 2:length(banks_emp)){"
"0","    dat=merge.data.frame(dat,bks[i])"
"0","  }"
"0","  return(dat)"
"0","}"
"0",""
"0",""
"0","df_employees=femployees() # new data frame of numbers of employees by bank and by date"
"0",""
"0","#sum(df_employees$BMH,na.rm = T)"
"0","df_employees<-df_employees[,colnames(df_employees)[!colnames(df_employees)%in% c(""Var.2"",""TOTAL"",""BMH"")]]   # removing column ""BMH."" and column ""TOTAL"". There is not any data in BMH column."
"0",""
"0","# create a column for Total values of each indicator/row. There are some errors in Total of variables in income statement in files from the central bank"
"0","df_employees$System=rowSums(df_employees[,colnames(df_employees)[!colnames(df_employees) %in% c(""Date"") ]],na.rm = T)"
"0",""
"0","# Adding other columns so that this data frame could have the same columns than the others, before merging."
"0","df_employees$Indicators=rep(""Number of employees"",dim(df_employees)[1])"
"0","df_employees$Parts1_en=rep(""Number of employees"",dim(df_employees)[1])"
"0","df_employees$Parts2_en=rep(""Number of employees"",dim(df_employees)[1])"
"0","df_employees$Indicators_en=rep(""Number of employees"",dim(df_employees)[1])"
"0","df_employees$Parts1_fr=rep(""Number of employees"",dim(df_employees)[1])"
"0","df_employees$Parts2_fr=rep(""Number of employees"",dim(df_employees)[1])"
"0",""
"0",""
"0","df1=rbind(df_balance,df_inc)"
"0","df1=merge(df1,df_employees,all=T)"
